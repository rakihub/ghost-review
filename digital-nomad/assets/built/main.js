"use strict";const e=()=>{const e=document.querySelectorAll("[data-tweet-id]");e&&(()=>{const t=localStorage.getItem("data-theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");o="dark"===t?"light":"dark",s=t,e.forEach((e=>{const t=e.getAttribute("src");e.setAttribute("src",t.replace("theme="+o,"theme="+s))}));var o,s})()},t=()=>{const e=document.querySelector("html[data-theme]").getAttribute("data-theme");if(document.querySelector("#ghost-comments-root")){document.querySelector("script[data-color-scheme]").setAttribute("data-color-scheme",e)}},o=()=>{const o=document.querySelector("html[data-theme]"),s=o.getAttribute("data-theme");o.setAttribute("data-theme","light"===s?"dark":"light"),localStorage.setItem("data-theme","light"===s?"dark":"light"),t(),e()};class s{constructor(e){this.nextDom=document,this.loadBtnElement=e,this.container=document.querySelector(".latest-section-posts"),e&&(this.toLoadMore(),this.loadNextPage())}async loadNextPage(){const e=this.nextDom.querySelector('link[rel="next"]');if(e){let t=e.href;try{const e=await fetch(t);if(!e.ok)return void(this.loadBtnElement.style.display="none");this.nextDom=document.createRange().createContextualFragment(await e.text())}catch{this.loadBtnElement.style.display="none"}}else this.loadBtnElement.style.display="none"}toLoadMore(){this.loadBtnElement.addEventListener("click",(()=>{this.loadNextPage();for(const e of this.nextDom.querySelectorAll(".latest-section-posts .latest-post"))this.container.appendChild(e)}))}}const n=document.querySelectorAll(".switch-theme-btn");n&&n.forEach((e=>{e.addEventListener("click",o)})),window.addEventListener("load",e),window.addEventListener("load",t),(()=>{const e=document.querySelector(".header"),t=document.querySelector("body.withFullScreenFirstSection");if(!e)return;let o=0;const s=()=>{t&&(window.scrollY>=48?t.classList.remove("withTransparentHeader"):t.classList.add("withTransparentHeader")),0===window.scrollY?e.classList.remove("hide"):window.scrollY>200&&(window.scrollY<o?e.classList.remove("hide"):e.classList.add("hide")),o=window.scrollY};s(),window.addEventListener("scroll",s)})(),(()=>{const e=document.querySelector(".open-header-CTA-btn"),t=document.querySelector(".header-CTA");if(!e)return;document.addEventListener("click",(o=>{o.target.closest(".open-header-CTA-btn")||o.target.closest(".header-CTA")||(t.classList.remove("active"),e.classList.remove("active"))})),e.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active")):(t.classList.add("active"),e.classList.add("active"))}))})(),(()=>{const e=document.querySelector(".header"),t=e.querySelector(".search-btn"),o=document.querySelector(".burger-btn"),s=document.querySelector(".mobile-menu-overflow"),n=document.querySelectorAll(".nav-list__item--mobile-submenu"),c=document.querySelector("body.withFullScreenFirstSection"),r=e.querySelector(".mobile-menu-login-button"),l=()=>{e.classList.add("mob-menu-hide-anim"),o.classList.remove("open"),n.forEach((e=>{const t=e.querySelector(".mobile-submenu");e.classList.remove("active"),t.style.height=""})),setTimeout((()=>{e.classList.remove("mob-menu-open"),e.classList.remove("mob-menu-hide-anim"),document.documentElement.classList.remove("lock-scroll"),c&&c.classList.add("withTransparentHeader")}),250)},a=()=>{e.classList.contains("mob-menu-open")?l():(document.documentElement.classList.add("lock-scroll"),e.classList.add("mob-menu-open"),o.classList.add("open"),c&&c.classList.remove("withTransparentHeader"))};o.addEventListener("click",a),s.addEventListener("click",a),t.addEventListener("click",l),r&&r.addEventListener("click",l);n.forEach((e=>{const t=e.querySelector(".nav-list__item-link--mobile-submenu"),o=e.querySelector(".mobile-submenu"),s=e.querySelectorAll(".mobile-submenu__item-link");t.addEventListener("click",(()=>((e,t,o)=>{if(e.classList.contains("active"))e.classList.remove("active"),t.style.height="";else{e.classList.add("active");const s=Array.from(o).reduce(((e,t)=>e+t.offsetHeight),0);t.style.height=`${s}px`}})(e,o,s)))}))})(),(()=>{let e=null;const t=document.querySelector(".mobile-menu-container"),o=document.querySelector(".mobile-menu-overflow"),s=document.querySelector(".header").offsetHeight;let n=window.scrollY;const c=(e,s=0)=>{let n=s+e;t.style.setProperty("--totalHeaderHeight",`${n}px`),o.style.setProperty("--totalHeaderHeight",`${n}px`)},r=()=>{t.classList.remove("mobile-menu--with-announcment-bar"),o.classList.remove("mobile-menu--with-announcment-bar")},l=()=>{window.addEventListener("scroll",(()=>{n=window.scrollY,n>=e?(c(s),r()):(c(s,e-n),t.classList.add("mobile-menu--with-announcment-bar"),o.classList.add("mobile-menu--with-announcment-bar"))}))},a=new MutationObserver((t=>{t.forEach((t=>{"announcement-bar-root"==t.target.id&&(e=document.querySelector("#announcement-bar-root").offsetHeight,c(s,e),document.querySelector("#announcement-bar-root button").addEventListener("click",(()=>{r(),c(s)})),l(),a.disconnect())}))}));c(s),a.observe(document.body,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})})(),(()=>{const e=document.querySelectorAll("main.home-page section");if(!e.length)return;const t=document.documentElement,o=getComputedStyle(t).getPropertyValue("--accent-bg-color");e.forEach((e=>{(e=>{const[t,o,s]=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/ /g,"").split(",");return"#"+((1<<24)+(parseInt(t,10)<<16)+(parseInt(o,10)<<8)+parseInt(s,10)).toString(16).slice(1)})(getComputedStyle(e).getPropertyValue("background-color"))===o.toLowerCase()&&e.classList.add("whiteAccentBGColor")}))})(),(()=>{const e=document.querySelectorAll(".copyToClipboardBtn");e&&Array.from(e).forEach((e=>{e.addEventListener("click",(()=>(e=>{const t=window.location.href,o=(e,t)=>{t?(e.classList.add("copied"),setTimeout((()=>{e.classList.remove("copied")}),800)):(e.classList.add("notCopied"),setTimeout((()=>{e.classList.remove("notCopied")}),800))};navigator.clipboard.writeText(t).then((()=>{o(e,!0)}),(()=>{o(e,!1)}))})(e)))}))})(),(()=>{const e=document.querySelector(".scroll-top-button");if(!e)return;e.addEventListener("click",(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}))})(),(e=>{const t=document.querySelector(".progress-bar");if(!t)return;const o=document.querySelector(".reading-progress");let s=0;const n=()=>{const t=window.scrollY/document.querySelector(".post-main").clientHeight*100;e.isOpened?o.setAttribute("value",s):(s=t,o.setAttribute("value",t)),requestAnimationFrame(n)};o&&n();const c=()=>{const e=document.querySelector(".post-main").clientHeight;window.scrollY>200&&window.scrollY<e?t.classList.add("show"):t.classList.remove("show")};c(),window.addEventListener("scroll",c)})({isOpened:!1}),(()=>{const e=document.querySelectorAll(".load-more-btn");e.length&&e.forEach((e=>new s(e)))})(),(()=>{const e=document.querySelectorAll(".membership-page");e.length&&e.forEach((e=>{const t=e.querySelector(".membership-page__toggle-btn--monthly"),o=e.querySelector(".membership-page__toggle-btn--yearly"),s=e.querySelector(".membership-page__toggle");o.addEventListener("click",(()=>{e.classList.add("yearly")})),t.addEventListener("click",(()=>{e.classList.remove("yearly")})),s.addEventListener("click",(()=>{e.classList.toggle("yearly")}))}))})(),(()=>{const e=document.querySelectorAll(".nav-list__item--submenu");if(!e.length)return;const t=document.querySelectorAll(".nav-list__item-submenu-button");t.forEach((t=>{t.addEventListener("click",(()=>(t=>{const o=t.closest(".nav-list__item--submenu");o.classList.contains("active")?o.classList.remove("active"):(e.forEach((e=>{e.classList.remove("active")})),o.classList.add("active"))})(t)))})),document.addEventListener("click",(t=>{t.target.closest(".nav-list__item--submenu")||e.forEach((e=>{e.classList.remove("active")}))}))})(),(()=>{const e=document.querySelectorAll(".js-parallax"),t=()=>{e.forEach((e=>{const t=e.getBoundingClientRect(),o=window.scrollY;if(t.bottom>0){const s=Math.round((o-t.top)/t.height*25);e.style.transform=`translateY(${s}px)`}}))};t(),window.addEventListener("scroll",t)})();
